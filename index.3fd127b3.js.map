{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-e540c6dbaa6c96ce.js","src/settings.ts","src/alias.ts","src/renderer.ts","src/input.ts","node_modules/@parcel/runtime-js/lib/runtime-b53a5f11334a5092.js","src/sound.ts","src/player.ts","src/physics.ts","src/tile.ts","src/app.ts"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"hvItV\\\":\\\"index.3fd127b3.js\\\",\\\"8lAoY\\\":\\\"logo.0a7a3f9d.png\\\"}\"));","export const Settings = {\n    debug: false,\n\n    width: 960,\n    height: 640,\n\n    engineTimeResolution: 1,\n\n    epsilon: 0.1,\n    delta: 1 / 1000,\n};","export function sign(value: number, defaultIfZero = 1): number {\n    const sign = Math.sign(value);\n    return sign == 0 ? defaultIfZero : sign;\n}\n\nexport function round(value: number) { return Math.round(value); }\n\nexport function floor(value: number) { return Math.floor(value); }\n\nexport function abs(value: number) { return Math.abs(value); }\n\nexport function ceil(value: number) { return Math.ceil(value); }\n\nexport function max(value1: number, value2: number) { return Math.max(value1, value2); }\n\nexport function getElementById(id: string) { return document.getElementById(id); }\n\nexport function createElement(element: string) { return document.createElement(element); }\n\nexport const PI = Math.PI;","import { createElement, getElementById, round } from \"./alias\";\nimport { Settings } from \"./settings\";\n\nlet canvas: CanvasRenderingContext2D | null = null;\n\nexport function create() {\n    canvas = createCanvas(Settings.width, Settings.height, \"gameCanvas\");\n}\n\nexport function loadImage(path: string, onload?: () => void): HTMLImageElement {\n    const image = new Image(151, 151);\n    image.src = path;\n    if (onload) image.onload = onload;\n    return image;\n}\n\nexport function createCanvas(w: number, h: number, id: string | null = null): CanvasRenderingContext2D {\n    const canvas = (id == null ? createElement(\"canvas\") : getElementById(id)) as HTMLCanvasElement;\n    canvas.width = w;\n    canvas.height = h;\n    const context = canvas.getContext(\"2d\") as CanvasRenderingContext2D;\n    return context;\n}\n\nexport function drawImage(image: HTMLImageElement, x: number, y: number): void {\n    canvas?.drawImage(image, x, y);\n}\n\nexport function drawRect(x: number, y: number, w: number, h: number, color = \"#FF0000\") {\n    if (canvas) canvas.fillStyle = color;\n    canvas?.fillRect(round(x), round(y), w, h);\n}\n\nexport function translate(x: number, y: number) {\n    canvas?.translate(x, y);\n}\n\nexport function rotate(angle: number): void {\n    canvas?.translate(Settings.width / 2, Settings.height / 2);\n    canvas?.rotate(angle);\n}\n\nexport function save(): void {\n    canvas?.save();\n}\n\nexport function restore(): void {\n    canvas?.restore();\n}\n\nexport function clear(): void {\n    canvas?.clearRect(0, 0, Settings.width, Settings.height);\n}","export const input = {\n    up: false,\n    down: false,\n    left: false,\n    right: false,\n    space: false,\n    shift: false,\n}\n\nexport type Input = typeof input;\n\nonkeydown = onkeyup = event => setKey(event.keyCode, event.type[5] != undefined);\n\nfunction setKey(keyCode: number, value: boolean) {\n    // Up (up / W / Z)\n    if (keyCode == 38 || keyCode == 90 || keyCode == 87) input.up = value;\n    // Right (right / D)\n    if (keyCode == 39 || keyCode == 68) input.right = value;\n    // Down (down / S)\n    if (keyCode == 40 || keyCode == 83) input.down = value;\n    // Left (left / A / Q)\n    if (keyCode == 37 || keyCode == 65 || keyCode == 81) input.left = value;\n    // Shift (left / right)\n    if (keyCode == 16) input.shift = value;\n    // Space\n    if (keyCode == 32) input.space = value;\n}\n\nexport function update(delta: number) { }\n\nexport function createReleasedKeyPress(key: keyof Input) {\n    let released = true;\n    return () => {\n        if (input[key] && released) {\n            released = false;\n            return true;\n        }\n        if (!input[key]) released = true;\n        return false;\n    };\n}","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8lAoY\")).toString();","declare global {\n    var zzfxX: AudioContext;\n}\n\nconst u = undefined;\n\n// @ts-ignore\n// zzfx() - the universal entry point -- returns a AudioBufferSourceNode\nconst zzfx = (...t) => zzfxP(zzfxG(...t))\n\n// @ts-ignore\n// zzfxP() - the sound player -- returns a AudioBufferSourceNode\nconst zzfxP = (...t) => { let e = zzfxX.createBufferSource(), f = zzfxX.createBuffer(t.length, t[0].length, zzfxR); t.map((d, i) => f.getChannelData(i).set(d)), e.buffer = f, e.connect(zzfxX.destination), e.start(); return e }\n\n// @ts-ignore\n// zzfxG() - the sound generator -- returns an array of sample data\nconst zzfxG = (q = 1, k = .05, c = 220, e = 0, t = 0, u = .1, r = 0, F = 1, v = 0, z = 0, w = 0, A = 0, l = 0, B = 0, x = 0, G = 0, d = 0, y = 1, m = 0, C = 0) => { let b = 2 * Math.PI, H = v *= 500 * b / zzfxR ** 2, I = (0 < x ? 1 : -1) * b / 4, D = c *= (1 + 2 * k * Math.random() - k) * b / zzfxR, Z = [], g = 0, E = 0, a = 0, n = 1, J = 0, K = 0, f = 0, p, h; e = 99 + zzfxR * e; m *= zzfxR; t *= zzfxR; u *= zzfxR; d *= zzfxR; z *= 500 * b / zzfxR ** 3; x *= b / zzfxR; w *= b / zzfxR; A *= zzfxR; l = zzfxR * l | 0; for (h = e + m + t + u + d | 0; a < h; Z[a++] = f)++K % (100 * G | 0) || (f = r ? 1 < r ? 2 < r ? 3 < r ? Math.sin((g % b) ** 3) : Math.max(Math.min(Math.tan(g), 1), -1) : 1 - (2 * g / b % 2 + 2) % 2 : 1 - 4 * Math.abs(Math.round(g / b) - g / b) : Math.sin(g), f = (l ? 1 - C + C * Math.sin(2 * Math.PI * a / l) : 1) * (0 < f ? 1 : -1) * Math.abs(f) ** F * q * zzfxV * (a < e ? a / e : a < e + m ? 1 - (a - e) / m * (1 - y) : a < e + m + t ? y : a < h - d ? (h - a - d) / u * y : 0), f = d ? f / 2 + (d > a ? 0 : (a < h - d ? 1 : (h - a) / d) * Z[a - d | 0] / 2) : f), p = (c += v += z) * Math.sin(E * x - I), g += p - p * B * (1 - 1E9 * (Math.sin(a) + 1) % 2), E += p - p * B * (1 - 1E9 * (Math.sin(a) ** 2 + 1) % 2), n && ++n > A && (c += w, D += w, n = 0), !l || ++J % l || (c = D, v = H, n = n || 1); return Z }\n\n// @ts-ignore\n// zzfxV - global volume\nconst zzfxV = .3\n\n// @ts-ignore\n// zzfxR - global sample rate\nconst zzfxR = 44100\n\n// @ts-ignore\n//! ZzFXM (v2.0.3) | (C) Keith Clark | MIT | https://github.com/keithclark/ZzFXM\nconst zzfxM = (n, f, t, e = 125) => { let l, o, z, r, g, h, x, a, u, c, d, i, m, p, G, M = 0, R = [], b = [], j = [], k = 0, q = 0, s = 1, v = {}, w = zzfxR / e * 60 >> 2; for (; s; k++)R = [s = a = d = m = 0], t.map((e, d) => { for (x = f[e][k] || [0, 0, 0], s |= !!f[e][k], G = m + (f[e][0].length - 2 - !a) * w, p = d == t.length - 1, o = 2, r = m; o < x.length + p; a = ++o) { for (g = x[o], u = o == x.length + p - 1 && p || c != (x[0] || 0) | g | 0, z = 0; z < w && a; z++ > w - 99 && u ? i += (i < 1) / 99 : 0)h = (1 - i) * R[M++] / 2 || 0, b[r] = (b[r] || 0) - h * q + h, j[r] = (j[r++] || 0) + h * q + h; g && (i = g % 1, q = x[1] || 0, (g |= 0) && (R = v[[c = x[M = 0] || 0, g]] = v[[c, g]] || (l = [...n[c]], l[2] *= 2 ** ((g - 12) / 12), g > 0 ? zzfxG(...l) : []))) } m = G }); return [b, j] }\n\nconst cowboy = [[[.5, 0, 196, .05, .5, .6, 1], [.8, u, 24.5, .2, .3, .7, u, .5, u, u, 5, u, .1, u, u, u, u, .8, u, .2], [2, 0, 196, .02, .1, .4, 1], [, 0, 49, u, u, .2, 3, 5]], [[[, -1, 6, u, u, u, u, u, u, u, 8, u, u, u, u, u, u, u, 10, u, u, u, u, u, u, u, u, u, u, u, u, u, u, u], [, 1, 10, u, u, u, u, u, u, u, 12, u, u, u, u, u, u, u, 17, u, u, u, u, u, u, u, u, u, u, u, u, u, u, u], [, u, 3, u, u, u, u, u, u, u, 5, u, u, u, u, u, u, u, 6, u, u, u, u, u, u, u, u, u, u, u, u, u, u, u], [2, u, u, u, u, u, u, u, u, u, u, u, u, u, u, u, u, u, u, u, u, u, u, u, u, u, u, 15, 15, u, 13, u, 10, u]], [[, -1, 6, u, u, u, u, u, u, u, 8, u, u, u, u, u, u, u, 10, u, u, u, u, u, u, u, u, u, u, u, u, u, u, u], [, 1, 10, u, u, u, u, u, u, u, 12, u, u, u, u, u, u, u, 17, u, u, u, u, u, u, u, u, u, u, u, u, u, u, u], [, u, 3, u, u, u, u, u, u, u, 5, u, u, u, u, u, u, u, 6, u, u, u, u, u, u, u, u, u, u, u, u, u, u, u], [2, u, 8, u, u, u, u, u, u, u, 3, u, 3, u, 10, u, u, u, 8, u, 6, u, u, u, u, u, u, 15, 15, u, 13, u, 10, u], [3, u, 8, u, u, u, 8, u, 10, u, u, u, u, u, u, u, u, u, u, u, u, u, 1, u, 3, u, u, 15, 15, u, 13, u, 10, u]], [[, -1, 6, u, u, u, u, u, u, u, 8, u, u, u, u, u, u, u, 10, u, u, u, u, u, u, u, u, u, u, u, u, u, u, u], [, 1, 10, u, u, u, u, u, u, u, 12, u, u, u, u, u, u, u, 17, u, u, u, u, u, u, u, u, u, u, u, u, u, u, u], [, u, 3, u, u, u, u, u, u, u, 5, u, u, u, u, u, u, u, 6, u, u, u, u, u, u, u, u, u, u, u, u, u, u, u], [2, u, 8, u, u, u, u, u, u, u, 3, u, 3, u, 10, u, u, u, 8, u, 6, u, u, u, u, u, u, 15, 15, u, 13, u, 10, u], [3, u, 8, u, u, u, 8, u, 10, u, u, u, 1, 3, u, u, 8, u, 1, 3, u, u, 1, u, 3, u, u, 15, 15, u, 13, u, 10, u]]], [0, 1, 2, 1, 2], 110, u];\n\nlet cowboy_song: any;\nlet audio_node: any;\n\nexport function load() {\n    zzfxX = new window.AudioContext;\n    // @ts-ignore\n    cowboy_song = zzfxM(...cowboy);\n}\n\nexport function play_cowboy() {\n    zzfxX.resume();\n    audio_node = zzfxP(...cowboy_song);\n    audio_node.loop = true;\n}\n\nexport function stop_song() {\n    audio_node.stop();\n}","import { input } from \"./input\";\nimport { Rectangle } from \"./rectangle\";\nimport logo from \"../assets/logo.png\";\nimport * as Renderer from \"./renderer\";\nimport { PI } from \"./alias\";\nimport { createReleasedKeyPress } from \"./input\";\nimport { load, play_cowboy, stop_song } from \"./sound\";\nimport { Settings } from \"./settings\";\n\nlet image: HTMLImageElement | null = null;\nlet speed = 100;\nlet spaceInput = createReleasedKeyPress(\"space\");\nlet isPlaying = false;\nlet isAudioInitialized = false;\n\nexport type Player = Rectangle & {\n    dx: number;\n    dy: number;\n};\n\nexport const player: Player = {\n    x: 50,\n    dx: 0,\n    y: 50,\n    dy: 0,\n    w: 50,\n    h: 50,\n};\n\nexport function create() {\n    image = Renderer.loadImage(logo);\n}\n\nexport function update() {\n    if (input.left) player.dx = -speed;\n    if (input.right) player.dx = speed;\n    if (input.up) player.dy = -speed;\n    if (input.down) player.dy = speed;\n    if (!input.left && !input.right) player.dx = 0;\n    if (!input.up && !input.down) player.dy = 0;\n\n    if (!isAudioInitialized) {\n        load();\n        isAudioInitialized = true;\n    }\n    if (isAudioInitialized && spaceInput()) {\n        if (isPlaying) {\n            stop_song();\n        } else {\n            play_cowboy();\n        }\n        isPlaying = !isPlaying;\n    }\n\n    player.x += player.dx * Settings.delta;\n    player.y += player.dy * Settings.delta;\n}\n\nexport function render() {\n    if (!image?.complete) return;\n    Renderer.drawRect(player.x, player.y, player.w, player.h);\n}","import { sign } from \"./alias\";\nimport { getCenter, Rectangle } from \"./rectangle\";\nimport { Vector } from \"./vector\";\n\nexport type Collision = Rectangle;\n\ntype Overlap = Vector\n\nexport function getCollision(rectangle1: Rectangle, rectangle2: Rectangle): Collision | null {\n    const xOverlap = getOverlap(xProject(rectangle1), xProject(rectangle2));\n    const yOverlap = getOverlap(yProject(rectangle1), yProject(rectangle2));\n    // collides if there is an overlap on x axis and y axis\n    if (xOverlap == null || yOverlap == null) return null;\n    return {\n        x: xOverlap.x,\n        y: yOverlap.x,\n        w: xOverlap.y - xOverlap.x,\n        h: yOverlap.y - yOverlap.x\n    };\n}\n\nfunction getTranslationVector(player: Rectangle, rectangle: Rectangle, collision: Collision): Vector {\n    const playerCenter = getCenter(player);\n    const platformCenter = getCenter(rectangle);\n    const xSign = sign(playerCenter.x - platformCenter.x);\n    const ySign = sign(playerCenter.y - platformCenter.y);\n    const translation = collision.w > collision.h ? { x: 0, y: ySign * collision.h } : { x: xSign * collision.w, y: 0 };\n    return translation;\n}\n\nfunction xProject(rectangle: Rectangle): Vector {\n    return { x: rectangle.x, y: rectangle.x + rectangle.w };\n}\n\nfunction yProject(rectangle: Rectangle): Vector {\n    return { x: rectangle.y, y: rectangle.y + rectangle.h };\n}\n\nfunction getOverlap(s1: Vector, s2: Vector): Overlap | null {\n    if (s1.y <= s2.x || s2.y <= s1.x) return null;\n    return {\n        x: Math.max(s1.x, s2.x),\n        y: Math.min(s1.y, s2.y)\n    };\n}","import { Rectangle } from \"./rectangle\";\nimport { Vector } from \"./vector\";\nimport * as Renderer from \"./renderer\";\nimport { getCollision } from \"./physics\";\nimport { player } from \"./player\";\n\nexport type Tile = Rectangle & Vector;\n\nexport const tile: Tile = {\n    x: 200,\n    y: 200,\n    w: 50,\n    h: 50\n};\n\nlet color = \"#FF0000\";\n\nexport function create() {\n\n}\n\nexport function update() {\n    if (getCollision(player, tile) != null) {\n        color = \"#000000\";\n    } else {\n        color = \"#FF0000\";\n    }\n}\n\nexport function render() {\n    Renderer.drawRect(tile.x, tile.y, tile.w, tile.h, color);\n}","import { Settings } from \"./settings\";\nimport { floor } from \"./alias\";\nimport * as Renderer from \"./renderer\";\nimport * as Player from \"./player\";\nimport * as Tile from \"./tile\";\n\nlet tickLength = Settings.engineTimeResolution;\nlet lastTick = performance.now();\nlet lastRender = lastTick;\n\nPlayer.create();\nRenderer.create();\nTile.create();\n\nfunction loop(tFrame: number) {\n    window.requestAnimationFrame(t => loop(t));\n    var nextTick = lastTick + tickLength;\n    var numTicks = 0;\n\n    if (tFrame > nextTick) {\n        var elapsed = tFrame - lastTick;\n        numTicks = floor(elapsed / tickLength);\n    }\n\n    for (var i = 0; i < numTicks; i++) {\n        lastTick += tickLength;\n        update();\n    }\n\n    render();\n    lastRender = tFrame;\n}\n\nfunction update() {\n    Player.update();\n    Tile.update();\n}\n\nfunction render() {\n    Renderer.clear();\n    Player.render();\n    Tile.render();\n}\n\nloop(0);"],"names":["$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$95c1e97c8d1548a3$export$c72f6eaae7b9adff","debug","width","height","engineTimeResolution","epsilon","delta","$dc72d67b15d606b5$export$2077e0241d6afd3c","value","Math","round","PI","$621f3774f67738fc$var$canvas","$621f3774f67738fc$export$92e8c004f9e4bf7d","x","y","w","h","color","fillStyle","fillRect","$8efa37a468313d04$export$b7e3ae3d7c15e42e","up","down","left","right","space","shift","onkeydown","onkeyup","event","keyCode","$8efa37a468313d04$var$setKey","undefined","type","$9cbcbc18ca4a0a3e$exports","URL","resolve","import","meta","url","toString","$e0ea8097d55977c9$var$zzfxP","t","e","zzfxX","createBufferSource","f","createBuffer","$e0ea8097d55977c9$var$zzfxR","map","d","getChannelData","set","buffer","connect","destination","start","$e0ea8097d55977c9$var$zzfxG","q","k","c","u1","r","F","v","z","A","l","B","G","m","C","p","b","H","I","D","random","Z","g","E","a","n","J","K","sin","max","min","tan","abs","$e0ea8097d55977c9$var$zzfxV","$e0ea8097d55977c9$var$cowboy","$e0ea8097d55977c9$var$cowboy_song","$e0ea8097d55977c9$var$audio_node","$e0ea8097d55977c9$export$11e63f7b0f3d9900","window","AudioContext","e1","o","u2","d1","M","R","j","s","$e0ea8097d55977c9$var$zzfxM","$51d548b0596e1d08$var$image","$51d548b0596e1d08$var$spaceInput","key","released","$51d548b0596e1d08$var$isPlaying","$51d548b0596e1d08$var$isAudioInitialized","$51d548b0596e1d08$export$615455393ee443ca","dx","dy","$51d548b0596e1d08$export$722fbec263ad908a","stop","resume","loop","$5dda501f4a9774dc$export$f593b915385460f1","rectangle1","rectangle2","xOverlap","$5dda501f4a9774dc$var$getOverlap","$5dda501f4a9774dc$var$xProject","yOverlap","$5dda501f4a9774dc$var$yProject","rectangle","s1","s2","$2b62a2f835f6fc0e$export$3c17558da18e4d75","$2b62a2f835f6fc0e$var$color","$2b62a2f835f6fc0e$export$722fbec263ad908a","$f43313d21d3fd8e2$var$tickLength","$f43313d21d3fd8e2$var$lastTick","performance","now","$f43313d21d3fd8e2$var$lastRender","$f43313d21d3fd8e2$var$update","path","onload","image","Image","src","$621f3774f67738fc$export$fe58198efe02b173","$parcel$interopDefault","canvas1","element","document","createElement","getElementById","getContext","$621f3774f67738fc$export$cd3d1f114b139967","$f43313d21d3fd8e2$var$loop","tFrame","requestAnimationFrame","numTicks","floor","clearRect","complete"],"version":3,"file":"index.3fd127b3.js.map"}