{"mappings":"kpBAsBA,IAAAA,EACAC,E,iFArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,KCnBTE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,gGCAlD,MAAMC,EAAW,CACpBC,OAAO,EAEPC,MAAO,IACPC,OAAQ,IAERC,qBAAsB,EAEtBC,QAAS,ICWN,MAAMC,EAAKC,KAAKC,GChBvB,IAAIC,EAA0C,K,MCH9CC,EAAiB,IAAAC,IAAoBf,EAAA,SAAAgB,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,WCI5F,IAAIC,EAAiC,KACjCC,EAAmB,ECAvB,IAAIC,EAAanB,EAASI,qBACtBgB,EAAWC,YAAYC,MACvBC,EAAaH,EDGbH,EFDG,SAAmBO,EAAcC,GACpC,MAAMC,EAAQ,IAAIC,MAAM,IAAK,KAG7B,OAFAD,EAAME,IAAMJ,EACRC,IAAQC,EAAMD,OAASA,GACpBC,C,CEHCG,CAAmBC,EAAApB,IFJ3BD,EAUG,SAAsBsB,EAAWC,EAAWvC,EAAoB,MACnE,MAAMwC,EAAgB,MAANxC,GDAUyC,ECAiB,SDASC,SAASC,cAAcF,IAFxE,SAAwBzC,GAAc,OAAO0C,SAASE,eAAe5C,E,CCEjB,CAAeA,GDAnE,IAAuByC,ECI1B,OAHAD,EAAO/B,MAAQ6B,EACfE,EAAO9B,OAAS6B,EACAC,EAAOK,WAAW,K,CAdzBC,CAAavC,EAASE,MAAOF,EAASG,OAAQ,cGM3D,SAASqC,EAAKC,GACVC,OAAOC,uBAAsBC,GAAKJ,EAAKI,KACvC,IJPkBC,EIQdC,EAAW,EAEXL,EAHWrB,EAAWD,IJPR0B,GIWAJ,EAASrB,GACID,EAA3B2B,EJZsCvC,KAAKwC,MAAMF,IIerD,IAAK,IAAItD,EAAI,EAAGA,EAAIuD,EAAUvD,IAC1B6B,GAAYD,EACLA,EAAa,IDVxBD,GAAYZ,EAAK,KF4BjBG,GAAQuC,UAAU,EAAG,EAAGhD,EAASE,MAAOF,EAASG,QGdjDoB,EAAakB,C,CAWjBD,CAAK","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-e540c6dbaa6c96ce.js","src/settings.ts","src/alias.ts","src/renderer.ts","node_modules/@parcel/runtime-js/lib/runtime-b53a5f11334a5092.js","src/logo.ts","src/app.ts"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"hvItV\\\":\\\"index.968abd28.js\\\",\\\"8lAoY\\\":\\\"logo.0a7a3f9d.png\\\"}\"));","export const Settings = {\n    debug: false,\n\n    width: 960,\n    height: 640,\n\n    engineTimeResolution: 1,\n\n    epsilon: 0.1,\n}","export function sign(value: number, defaultIfZero = 1): number {\n    const sign = Math.sign(value);\n    return sign == 0 ? defaultIfZero : sign;\n}\n\nexport function round(value: number) { return Math.round(value); }\n\nexport function floor(value: number) { return Math.floor(value); }\n\nexport function abs(value: number) { return Math.abs(value); }\n\nexport function ceil(value: number) { return Math.ceil(value); }\n\nexport function max(value1: number, value2: number) { return Math.max(value1, value2); }\n\nexport function getElementById(id: string) { return document.getElementById(id); }\n\nexport function createElement(element: string) { return document.createElement(element); }\n\nexport const PI = Math.PI;","import { createElement, getElementById } from \"./alias\";\nimport { Settings } from \"./settings\";\n\nlet canvas: CanvasRenderingContext2D | null = null;\n\nexport function create() {\n    canvas = createCanvas(Settings.width, Settings.height, \"gameCanvas\");\n}\n\nexport function loadImage(path: string, onload?: () => void): HTMLImageElement {\n    const image = new Image(151, 151);\n    image.src = path;\n    if (onload) image.onload = onload;\n    return image;\n}\n\nexport function createCanvas(w: number, h: number, id: string | null = null): CanvasRenderingContext2D {\n    const canvas = (id == null ? createElement(\"canvas\") : getElementById(id)) as HTMLCanvasElement;\n    canvas.width = w;\n    canvas.height = h;\n    const context = canvas.getContext(\"2d\") as CanvasRenderingContext2D;\n    return context;\n}\n\nexport function drawImage(image: HTMLImageElement, x: number, y: number): void {\n    canvas?.drawImage(image, x, y);\n}\n\nexport function rotate(angle: number): void {\n    canvas?.translate(Settings.width / 2, Settings.height / 2);\n    canvas?.rotate(angle);\n}\n\nexport function save(): void {\n    canvas?.save();\n}\n\nexport function restore(): void {\n    canvas?.restore();\n}\n\nexport function clear(): void {\n    canvas?.clearRect(0, 0, Settings.width, Settings.height);\n}","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8lAoY\")).toString();","import logo from \"../assets/logo.png\";\nimport * as Renderer from \"./renderer\";\nimport { PI } from \"./alias\";\n\nlet image: HTMLImageElement | null = null;\nlet rotation: number = 0;\nlet width = 151;\nlet height = 151;\n\nexport function create(): void {\n    image = Renderer.loadImage(logo);\n}\n\nexport function update(delta: number) {\n    rotation -= PI / 1080;\n}\n\nexport function render(): void {\n    if (!this.image?.complete) return;\n    Renderer.save();\n    Renderer.rotate(this.rotation);\n    Renderer.drawImage(this.image, - width / 2, - height / 2);\n    Renderer.restore();\n}","import { Settings } from \"./settings\";\nimport { floor } from \"./alias\";\nimport * as Renderer from \"./renderer\";\nimport * as Logo from \"./logo\";\n\nlet tickLength = Settings.engineTimeResolution;\nlet lastTick = performance.now();\nlet lastRender = lastTick;\n\nLogo.create();\nRenderer.create();\n\nfunction loop(tFrame: number) {\n    window.requestAnimationFrame(t => loop(t));\n    var nextTick = lastTick + tickLength;\n    var numTicks = 0;\n\n    if (tFrame > nextTick) {\n        var elapsed = tFrame - lastTick;\n        numTicks = floor(elapsed / tickLength);\n    }\n\n    for (var i = 0; i < numTicks; i++) {\n        lastTick += tickLength;\n        update(tickLength / 1000);\n    }\n\n    render();\n    lastRender = tFrame;\n}\n\nfunction update(delta: number) {\n    Logo.update(delta);\n}\n\nfunction render() {\n    Renderer.clear();\n}\n\nloop(0)"],"names":["$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$95c1e97c8d1548a3$export$c72f6eaae7b9adff","debug","width","height","engineTimeResolution","epsilon","$dc72d67b15d606b5$export$6b5c1ceb16d01dc3","Math","PI","$621f3774f67738fc$var$canvas","$9cbcbc18ca4a0a3e$exports","URL","resolve","import","meta","url","toString","$20044bd87620d305$var$image","$20044bd87620d305$var$rotation","$f43313d21d3fd8e2$var$tickLength","$f43313d21d3fd8e2$var$lastTick","performance","now","$f43313d21d3fd8e2$var$lastRender","path","onload","image","Image","src","$621f3774f67738fc$export$fe58198efe02b173","$parcel$interopDefault","w","h","canvas1","element","document","createElement","getElementById","getContext","$621f3774f67738fc$export$cd3d1f114b139967","$f43313d21d3fd8e2$var$loop","tFrame","window","requestAnimationFrame","t","value","numTicks","floor","clearRect"],"version":3,"file":"index.968abd28.js.map"}